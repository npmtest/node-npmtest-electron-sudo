{"/home/travis/build/npmtest/node-npmtest-electron-sudo/test.js":"/* istanbul instrument in package npmtest_electron_sudo */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireExampleJsFromReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/lib.npmtest_electron_sudo.js":"/* istanbul instrument in package npmtest_electron_sudo */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_electron_sudo = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_electron_sudo = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-electron-sudo && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_electron_sudo */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_electron_sudo\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_electron_sudo.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_electron_sudo.rollup.js'] =\n            local.assetsDict['/assets.npmtest_electron_sudo.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_electron_sudo.__dirname + '/lib.npmtest_electron_sudo.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/node_modules/electron-sudo/dist/index.js":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"bluebird\"),require(\"fs\"),require(\"child_process\"),require(\"crypto\"),require(\"os\"),require(\"path\"),require(\"regenerator-runtime\")):\"function\"==typeof define&&define.amd?define([\"bluebird\",\"fs\",\"child_process\",\"crypto\",\"os\",\"path\",\"regenerator-runtime\"],e):\"object\"==typeof exports?exports[\"electron-sudo\"]=e(require(\"bluebird\"),require(\"fs\"),require(\"child_process\"),require(\"crypto\"),require(\"os\"),require(\"path\"),require(\"regenerator-runtime\")):t[\"electron-sudo\"]=e(t.bluebird,t.fs,t.child_process,t.crypto,t.os,t.path,t[\"regenerator-runtime\"])}(this,function(t,e,n,r,u,o,i){return function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var n={};return e.m=t,e.c=n,e.p=\"./dist\",e(0)}([function(t,e,n){t.exports=n(61)},function(t,e){var n=t.exports={version:\"2.4.0\"};\"number\"==typeof __e&&(__e=n)},function(t,e,n){var r=n(31)(\"wks\"),u=n(22),o=n(3).Symbol,i=\"function\"==typeof o,a=t.exports=function(t){return r[t]||(r[t]=i&&o[t]||(i?o:u)(\"Symbol.\"+t))};a.store=r},function(t,e){var n=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},function(t,e,n){var r=n(3),u=n(1),o=n(11),i=n(9),a=\"prototype\",c=function(t,e,n){var s,f,p,l=t&c.F,d=t&c.G,v=t&c.S,h=t&c.P,y=t&c.B,b=t&c.W,x=d?u:u[e]||(u[e]={}),w=x[a],m=d?r:v?r[e]:(r[e]||{})[a];d&&(n=e);for(s in n)f=!l&&m&&void 0!==m[s],f&&s in x||(p=f?m[s]:n[s],x[s]=d&&\"function\"!=typeof m[s]?n[s]:y&&f?o(p,r):b&&m[s]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(p):h&&\"function\"==typeof p?o(Function.call,p):p,h&&((x.virtual||(x.virtual={}))[s]=p,t&c.R&&w&&!w[s]&&i(w,s,p)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(6),u=n(44),o=n(34),i=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),u)try{return i(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+\" is not an object!\");return t}},function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(5),u=n(17);t.exports=n(7)?function(t,e,n){return r.f(t,e,u(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(45),u=n(25);t.exports=function(t){return r(u(t))}},function(t,e,n){var r=n(24);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,u){return t.call(e,n,r,u)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports={}},function(t,e,n){var r=n(53),u=n(27);t.exports=Object.keys||function(t){return r(t,u)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(5).f,u=n(8),o=n(2)(\"toStringTag\");t.exports=function(t,e,n){t&&!u(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(25);t.exports=function(t){return Object(r(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+r).toString(36))}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(70),o=r(u),i=n(69),a=r(i),c=\"function\"==typeof a.default&&\"symbol\"==typeof o.default?function(t){return typeof t}:function(t){return t&&\"function\"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?\"symbol\":typeof t};e.default=\"function\"==typeof a.default&&\"symbol\"===c(o.default)?function(t){return\"undefined\"==typeof t?\"undefined\":c(t)}:function(t){return t&&\"function\"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?\"symbol\":\"undefined\"==typeof t?\"undefined\":c(t)}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){var r=n(13),u=n(3).document,o=r(u)&&r(u.createElement);t.exports=function(t){return o?u.createElement(t):{}}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){var r=n(6),u=n(99),o=n(27),i=n(30)(\"IE_PROTO\"),a=function(){},c=\"prototype\",s=function(){var t,e=n(26)(\"iframe\"),r=o.length,u=\"<\",i=\">\";for(e.style.display=\"none\",n(43).appendChild(e),e.src=\"javascript:\",t=e.contentWindow.document,t.open(),t.write(u+\"script\"+i+\"document.F=Object\"+u+\"/script\"+i),t.close(),s=t.F;r--;)delete s[c][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[c]=r(t),n=new a,a[c]=null,n[i]=t):n=s(),void 0===e?n:u(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(31)(\"keys\"),u=n(22);t.exports=function(t){return r[t]||(r[t]=u(t))}},function(t,e,n){var r=n(3),u=\"__core-js_shared__\",o=r[u]||(r[u]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(32),u=Math.min;t.exports=function(t){return t>0?u(r(t),9007199254740991):0}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,u;if(e&&\"function\"==typeof(n=t.toString)&&!r(u=n.call(t)))return u;if(\"function\"==typeof(n=t.valueOf)&&!r(u=n.call(t)))return u;if(!e&&\"function\"==typeof(n=t.toString)&&!r(u=n.call(t)))return u;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,n){var r=n(3),u=n(1),o=n(18),i=n(36),a=n(5).f;t.exports=function(t){var e=u.Symbol||(u.Symbol=o?{}:r.Symbol||{});\"_\"==t.charAt(0)||t in e||a(e,t,{value:i.f(t)})}},function(t,e,n){e.f=n(2)},function(t,e,n){\"use strict\";var r=n(106)(!0);n(48)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){t.exports={default:n(77),__esModule:!0}},function(t,e,n){t.exports={default:n(82),__esModule:!0}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(64),o=r(u);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){t.exports=n(123)},function(t,e,n){var r=n(14),u=n(2)(\"toStringTag\"),o=\"Arguments\"==r(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=i(e=Object(t),u))?n:o?r(e):\"Object\"==(a=r(e))&&\"function\"==typeof e.callee?\"Arguments\":a}},function(t,e,n){t.exports=n(3).document&&document.documentElement},function(t,e,n){t.exports=!n(7)&&!n(12)(function(){return 7!=Object.defineProperty(n(26)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){var r=n(14);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==r(t)?t.split(\"\"):Object(t)}},function(t,e,n){var r=n(15),u=n(2)(\"iterator\"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[u]===t)}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,u){try{return u?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){\"use strict\";var r=n(18),u=n(4),o=n(54),i=n(9),a=n(8),c=n(15),s=n(93),f=n(20),p=n(52),l=n(2)(\"iterator\"),d=!([].keys&&\"next\"in[].keys()),v=\"@@iterator\",h=\"keys\",y=\"values\",b=function(){return this};t.exports=function(t,e,n,x,w,m,_){s(n,e,x);var g,k,j,O=function(t){if(!d&&t in M)return M[t];switch(t){case h:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+\" Iterator\",E=w==y,P=!1,M=t.prototype,F=M[l]||M[v]||w&&M[w],A=F||O(w),T=w?E?O(\"entries\"):A:void 0,q=\"Array\"==e?M.entries||F:F;if(q&&(j=p(q.call(new t)),j!==Object.prototype&&(f(j,S,!0),r||a(j,l)||i(j,l,b))),E&&F&&F.name!==y&&(P=!0,A=function(){return F.call(this)}),r&&!_||!d&&!P&&M[l]||i(M,l,A),c[e]=A,c[S]=b,w)if(g={values:E?A:O(y),keys:m?A:O(h),entries:T},_)for(k in g)k in M||o(M,k,g[k]);else u(u.P+u.F*(d||P),e,g);return g}},function(t,e,n){var r=n(2)(\"iterator\"),u=!1;try{var o=[7][r]();o.return=function(){u=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!u)return!1;var n=!1;try{var o=[7],i=o[r]();i.next=function(){return{done:n=!0}},o[r]=function(){return i},t(o)}catch(t){}return n}},function(t,e,n){var r=n(19),u=n(17),o=n(10),i=n(34),a=n(8),c=n(44),s=Object.getOwnPropertyDescriptor;e.f=n(7)?s:function(t,e){if(t=o(t),e=i(e,!0),c)try{return s(t,e)}catch(t){}if(a(t,e))return u(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(53),u=n(27).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return r(t,u)}},function(t,e,n){var r=n(8),u=n(21),o=n(30)(\"IE_PROTO\"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=u(t),r(t,o)?t[o]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},function(t,e,n){var r=n(8),u=n(10),o=n(87)(!1),i=n(30)(\"IE_PROTO\");t.exports=function(t,e){var n,a=u(t),c=0,s=[];for(n in a)n!=i&&r(a,n)&&s.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(s,n)||s.push(n));return s}},function(t,e,n){t.exports=n(9)},function(t,e,n){var r,u,o,i=n(11),a=n(91),c=n(43),s=n(26),f=n(3),p=f.process,l=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,h=0,y={},b=\"onreadystatechange\",x=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},w=function(t){x.call(t.data)};l&&d||(l=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++h]=function(){a(\"function\"==typeof t?t:Function(t),e)},r(h),h},d=function(t){delete y[t]},\"process\"==n(14)(p)?r=function(t){p.nextTick(i(x,t,1))}:v?(u=new v,o=u.port2,u.port1.onmessage=w,r=i(o.postMessage,o,1)):f.addEventListener&&\"function\"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+\"\",\"*\")},f.addEventListener(\"message\",w,!1)):r=b in s(\"script\")?function(t){c.appendChild(s(\"script\"))[b]=function(){c.removeChild(this),x.call(t)}}:function(t){setTimeout(i(x,t,1),0)}),t.exports={set:l,clear:d}},function(t,e,n){var r=n(42),u=n(2)(\"iterator\"),o=n(15);t.exports=n(1).getIteratorMethod=function(t){if(void 0!=t)return t[u]||t[\"@@iterator\"]||o[r(t)]}},function(t,e){},function(t,e,n){n(109);for(var r=n(3),u=n(9),o=n(15),i=n(2)(\"toStringTag\"),a=[\"NodeList\",\"DOMTokenList\",\"MediaList\",\"StyleSheetList\",\"CSSRuleList\"],c=0;c<5;c++){var s=a[c],f=r[s],p=f&&f.prototype;p&&!p[i]&&u(p,i,s),o[s]=o.Array}},function(t,e){t.exports=require(\"bluebird\")},function(t,e){t.exports=require(\"fs\")},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(62);e.default=function(){var t=process,e=t.platform;switch(e){case\"darwin\":return r.SudoerDarwin;case\"win32\":return r.SudoerWin32;case\"linux\":return r.SudoerLinux;default:throw new Error(\"Unsupported platform: \"+e)}}()},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.SudoerWin32=e.SudoerLinux=e.SudoerDarwin=void 0;var u=n(38),o=r(u),i=n(40),a=r(i),c=n(41),s=r(c),f=n(39),p=r(f),l=n(59),d=n(67),v=r(d),h=n(75),y=r(h),b=n(74),x=r(b),w=n(23),m=r(w),_=n(71),g=r(_),k=n(72),j=r(k),O=n(121),S=n(60),E=n(122),P=n(120),M=n(63),F=process,A=F.platform,T=F.env,q=function(){function t(e){(0,g.default)(this,t),this.platform=A,this.options=e,this.cp=null,this.tmpdir=(0,O.tmpdir)()}return(0,j.default)(t,[{key:\"hash\",value:function t(e){var t=(0,P.createHash)(\"sha256\");return t.update(\"electron-sudo\"),t.update(this.options.name||\"\"),t.update(e||new Buffer(0)),t.digest(\"hex\").slice(-32)}},{key:\"joinEnv\",value:function(t){var e=t.env,n=[];if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":(0,m.default)(e)))for(var r in e)n.push(r.concat(\"=\",e[r]));return n}},{key:\"escapeDoubleQuotes\",value:function(t){return t.replace(/\"/g,'\\\\\"')}},{key:\"encloseDoubleQuotes\",value:function(t){return t.replace(/(.+)/g,'\"$1\"')}},{key:\"kill\",value:function(t){}}]),t}(),D=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return n.options.name||(n.options.name=\"Electron\"),n}return(0,x.default)(e,t),(0,j.default)(e,[{key:\"copy\",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e,n){var r=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.escapeDoubleQuotes((0,E.normalize)(e)),n=r.escapeDoubleQuotes((0,E.normalize)(n)),t.prev=2,t.next=5,(0,M.exec)('/bin/cp -R -p \"'+e+'\" \"'+n+'\"');case 5:i=t.sent,u(i),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),o(t.t0);case 12:case\"end\":return t.stop()}},t,r,[[2,9]])}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"remove\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.startsWith(n.tmpdir)){t.next=2;break}throw new Error(\"Try to remove suspicious target: \"+e+\".\");case 2:return e=r.escapeDoubleQuotes((0,E.normalize)(e)),t.prev=3,t.next=6,(0,M.exec)('rm -rf \"'+e+'\"');case 6:i=t.sent,u(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),o(t.t0);case 13:case\"end\":return t.stop()}},t,r,[[3,10]])}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"reset\",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.exec)(\"/usr/bin/sudo -k\");case 2:case\"end\":return t.stop()}},t,this)}));return t}()}]),e}(q),I=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));if(t.icns&&\"string\"!=typeof t.icns)throw new Error(\"options.icns must be a string if provided.\");if(t.icns&&0===t.icns.trim().length)throw new Error(\"options.icns must be a non-empty string if provided.\");return n.up=!1,n}return(0,x.default)(e,t),(0,j.default)(e,[{key:\"isValidName\",value:function(t){return/^[a-z0-9 ]+$/i.test(t)&&t.trim().length>0&&t.length<70}},{key:\"joinEnv\",value:function(t){var e=t.env,n=[];if(e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":(0,m.default)(e)))for(var r in e)n.push(r.concat(\"=\",e[r]));return n}},{key:\"exec\",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i,a,c,f;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n,a=i.joinEnv(r),c=[\"/usr/bin/sudo -n\",a.join(\" \"),\"-s\",e].join(\" \"),f=void 0,t.next=3,i.reset();case 3:return t.prev=3,t.next=6,(0,M.exec)(c,r);case 6:f=t.sent,u(f),t.next=24;break;case 10:return t.prev=10,t.t0=t.catch(3),t.prev=12,t.next=15,i.prompt();case 15:return t.next=17,(0,M.exec)(c,r);case 17:f=t.sent,u(f),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(12),o(t.t1);case 24:case\"end\":return t.stop()}},t,n,[[3,10],[12,21]])}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"spawn\",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e,n){var r=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(o,i){var c,f,p;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=r,f=\"/usr/bin/sudo\",p=void 0,t.next=3,c.reset();case 3:return t.next=5,c.prompt();case 5:p=(0,M.spawn)(f,[\"-n\",\"-s\",\"-E\",[e].concat((0,a.default)(n)).join(\" \")],u),p.on(\"error\",function(){var t=(0,l.coroutine)(s.default.mark(function t(e){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i(e);case 1:case\"end\":return t.stop()}},t,r)}));return function(e){return t.apply(this,arguments)}}()),c.cp=p,o(p);case 9:case\"end\":return t.stop()}},t,r)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"prompt\",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(){var e,n=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(r,u){var o,i,a,c;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.tmpdir){t.next=2;break}return t.abrupt(\"return\",u(new Error(\"Requires os.tmpdir() to be defined.\")));case 2:if(T.USER){t.next=4;break}return t.abrupt(\"return\",u(new Error(\"Requires env['USER'] to be defined.\")));case 4:return e.up=!0,t.next=7,e.readIcns();case 7:return o=t.sent,i=e.hash(o),a=(0,E.join)((0,E.dirname)(__filename)+\"/bin\",\"applet.app\"),c=(0,E.join)(e.tmpdir,i,e.options.name+\".app\"),t.prev=10,t.next=13,(0,M.mkdir)((0,E.dirname)(c));case 13:t.next=19;break;case 15:if(t.prev=15,t.t0=t.catch(10),\"EEXIST\"===t.t0.code){t.next=19;break}return t.abrupt(\"return\",u(t.t0));case 19:return t.prev=19,t.next=22,e.copy(a,c);case 22:return t.next=24,e.icon(c);case 24:return t.next=26,e.propertyList(c);case 26:return t.next=28,e.open(c);case 28:return t.next=30,e.remove(c);case 30:t.next=35;break;case 32:return t.prev=32,t.t1=t.catch(19),t.abrupt(\"return\",u(t.t1));case 35:return t.abrupt(\"return\",r(i));case 36:case\"end\":return t.stop()}},t,n,[[10,15],[19,32]])}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"icon\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.options.icns){t.next=2;break}return t.abrupt(\"return\",u());case 2:return t.next=4,n.copy(r.options.icns,(0,E.join)(e,\"Contents\",\"Resources\",\"applet.icns\"));case 4:return i=t.sent,t.abrupt(\"return\",u(i));case 6:case\"end\":return t.stop()}},t,r)}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"open\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.escapeDoubleQuotes((0,E.normalize)(e)),t.prev=1,t.next=4,(0,M.exec)('open -n -W \"'+e+'\"');case 4:return i=t.sent,t.abrupt(\"return\",u(i));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt(\"return\",o(t.t0));case 11:case\"end\":return t.stop()}},t,r,[[1,8]])}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"readIcns\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(r,u){var o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&\"darwin\"===A){t.next=2;break}return t.abrupt(\"return\",r(new Buffer(0)));case 2:return t.prev=2,t.next=5,(0,M.readFile)(e);case 5:return o=t.sent,t.abrupt(\"return\",r(o));case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt(\"return\",u(t.t0));case 12:case\"end\":return t.stop()}},t,n,[[2,9]])}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"propertyList\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,o){var i,a,c,f;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.escapeDoubleQuotes((0,E.join)(e,\"Contents\",\"Info.plist\")),a=n.escapeDoubleQuotes(\"CFBundleName\"),c=n.options.name+\" Password Prompt\",!/'/.test(c)){t.next=3;break}return t.abrupt(\"return\",o(new Error(\"Value should not contain single quotes.\")));case 3:return t.next=5,(0,M.exec)('defaults write \"'+i+'\" \"'+a+\"\\\" '\"+c+\"'\");case 5:return f=t.sent,t.abrupt(\"return\",u(f));case 7:case\"end\":return t.stop()}},t,r)}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()}]),e}(D),B=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return n.binary=null,n.paths=[\"/usr/bin/gksudo\",\"/usr/bin/pkexec\",\"./bin/gksudo\"],n}return(0,x.default)(e,t),(0,j.default)(e,[{key:\"getBinary\",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(){var e=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.default.all(this.paths.map(function(){var t=(0,l.coroutine)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,M.stat)(n);case 3:return n=t.sent,t.abrupt(\"return\",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt(\"return\",null);case 10:case\"end\":return t.stop()}},t,e,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()));case 2:return t.t0=function(t){return t},t.abrupt(\"return\",t.sent.filter(t.t0)[0]);case 4:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"exec\",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(u,i){var a,c,f;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n,c=void 0,a.binary){t.next=5;break}return t.next=4,a.getBinary();case 4:a.binary=t.sent;case 5:return r.env instanceof Object&&!r.env.DISPLAY&&(r.env=(0,o.default)(r.env,{DISPLAY:\":0\"})),f=void 0,/gksudo/i.test(a.binary)?f=\"--preserve-env --sudo-mode \"+('--description=\"'+a.escapeDoubleQuotes(a.options.name)+'\"'):/pkexec/i.test(a.binary)&&(f=\"--disable-internal-agent\"),e=n.binary+\" \"+f+\" \"+e,t.prev=9,t.next=12,(0,M.exec)(e,r);case 12:return c=t.sent,t.abrupt(\"return\",u(c));case 16:return t.prev=16,t.t0=t.catch(9),t.abrupt(\"return\",i(t.t0));case 19:case\"end\":return t.stop()}},t,n,[[9,16]])}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"spawn\",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e,n){var r,u=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(a,c){var f,p;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.binary){t.next=4;break}return t.next=3,r.getBinary();case 3:r.binary=t.sent;case 4:return i.env instanceof Object&&!i.env.DISPLAY&&(i.env=(0,o.default)(i.env,{DISPLAY:\":0\"})),f=[],/gksudo/i.test(r.binary)?(f.push(\"--preserve-env\"),f.push(\"--sudo-mode\"),f.push('--description=\"'+r.escapeDoubleQuotes(r.options.name)+'\"'),f.push(\"--sudo-mode\")):/pkexec/i.test(r.binary)&&f.push(\"--disable-internal-agent\"),f.push(e),f.push(n),t.prev=9,p=(0,M.spawn)(r.binary,f,i),t.abrupt(\"return\",a(p));case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt(\"return\",c(t.t0));case 17:case\"end\":return t.stop()}},t,u,[[9,14]])}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()}]),e}(D),R=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,g.default)(this,e);var n=(0,y.default)(this,(e.__proto__||(0,v.default)(e)).call(this,t));return n.bundled=\"src\\\\bin\\\\elevate.exe\",n.binary=null,n}return(0,x.default)(e,t),(0,j.default)(e,[{key:\"writeBatch\",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e,n,r){var u,o,i,a,c;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,M.exec)(\"echo %temp%\");case 2:return u=t.sent.stdout.toString().replace(/\\r\\n$/,\"\"),o=u+\"\\\\batch-\"+Math.random()+\".bat\",i=u+\"\\\\output-\"+Math.random(),a=this.joinEnv(r),c=\"setlocal enabledelayedexpansion\\r\\n\",a.length&&(c+=\"set \"+a.join(\"\\r\\nset \")+\"\\r\\n\"),c+=n&&n.length?e+\" \"+n.join(\" \"):e,t.next=11,(0,M.writeFile)(o,c+\" > \"+i+\" 2>&1\");case 11:return t.next=13,(0,M.writeFile)(i,\"\");case 13:return t.abrupt(\"return\",{batch:o,output:i});case 14:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"watchOutput\",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.next=3,(0,M.readFile)(e.files.output);case 3:return r=t.sent,e.stdout.emit(\"data\",r),u=(0,S.watchFile)(e.files.output,{persistent:!0,interval:1},function(){var t=(0,S.createReadStream)(e.files.output,{start:u.last}),n=0;t.on(\"data\",function(t){n+=t.length,e&&e.stdout.emit(\"data\",t)}),t.on(\"close\",function(){e.last+=n})}),e.last=r.length,e.on(\"exit\",function(){n.clean(e)}),t.abrupt(\"return\",e);case 9:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"prepare\",value:function(){function t(){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(){var e,n=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(r,u){var o,i;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.binary){t.next=2;break}return t.abrupt(\"return\",r(e.binary));case 2:return o=(0,E.join)(n.tmpdir,\"elevate.exe\"),t.next=5,(0,M.stat)(o);case 5:if(t.sent){t.next=12;break}i=(0,S.createWriteStream)(o),(0,S.createReadStream)(e.bundled).pipe(i),i.on(\"close\",function(){return e.binary=o,r(e.binary)}),i.on(\"error\",function(t){return u(t)}),t.next=14;break;case 12:e.binary=o,r(e.binary);case 14:case\"end\":return t.stop()}},t,n)}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"exec\",value:function(){function t(t,n){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e){var n,r,u,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,r=void 0,u=void 0,t.abrupt(\"return\",new p.default(function(){var t=(0,l.coroutine)(s.default.mark(function t(a,c){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.prepare();case 3:return t.next=5,n.writeBatch(e,[],i);case 5:return r=t.sent,e=n.encloseDoubleQuotes(n.binary)+\" -wait \"+r.batch,t.next=9,(0,M.exec)(e,i);case 9:return t.next=11,(0,M.readFile)(r.output);case 11:return u=t.sent,t.abrupt(\"return\",a(u));case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt(\"return\",c(t.t0));case 18:case\"end\":return t.stop()}},t,o,[[0,15]])}));return function(e,n){return t.apply(this,arguments)}}()));case 2:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"spawn\",value:function(){function t(t,n,r){return e.apply(this,arguments)}var e=(0,l.coroutine)(s.default.mark(function t(e,n){var r,u,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.writeBatch(e,n,i);case 2:return r=t.sent,u=[],o=void 0,u.push(\"-wait\"),u.push(r.batch),t.next=9,this.prepare();case 9:return o=(0,M.spawn)(this.binary,u,i,{wait:!1}),o.files=r,t.next=13,this.watchOutput(o);case 13:return t.abrupt(\"return\",o);case 14:case\"end\":return t.stop()}},t,this)}));return t}()},{key:\"clean\",value:function(t){(0,S.unwatchFile)(t.files.output),(0,S.unlink)(t.files.batch),(0,S.unlink)(t.files.output)}}]),e}(q);e.SudoerDarwin=I,e.SudoerLinux=B,e.SudoerWin32=R},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=arguments;return new h.default(function(n,r){t.apply(void 0,Array.prototype.slice.call(e).concat([function(){arguments[0]instanceof Error?r(arguments[0]):n.apply(void 0,(0,d.default)(Array.prototype.slice.call(arguments,1)))}]))})}}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_.default.spawn(t,e,(0,c.default)({},n,{shell:!0}));return r.output={stdout:new Buffer(0),stderr:new Buffer(0)},r.stdout.on(\"data\",function(t){r.output.stdout=i(t,r.output.stdout)}),r.stderr.on(\"data\",function(t){r.output.stderr=i(t,r.output.stderr)}),r}function i(t,e){return t instanceof Buffer||(t=new Buffer(t,\"utf8\")),!e instanceof Buffer&&(e=new Buffer(0)),Buffer.concat([e,t])}Object.defineProperty(e,\"__esModule\",{value:!0}),e.open=e.stat=e.mkdir=e.exec=e.spawn=e.writeFile=e.readFile=void 0;var a=n(73),c=r(a),s=n(41),f=r(s),p=n(59),l=n(40),d=r(l),v=n(39),h=r(v),y=function(){var t=(0,p.coroutine)(f.default.mark(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",new h.default(function(t,r){_.default.exec(e,n,function(e,n,u){return e?r(e):t({stdout:n,stderr:u\n})})}));case 1:case\"end\":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=(0,p.coroutine)(f.default.mark(function t(e){var n,r;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u(w.default.stat),t.prev=1,t.next=4,n(e);case 4:return r=t.sent,t.abrupt(\"return\",r);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt(\"return\",null);case 11:case\"end\":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),x=n(60),w=r(x),m=n(119),_=r(m),g=u(w.default.open),k=u(w.default.mkdir),j=u(w.default.readFile),O=u(w.default.writeFile);e.readFile=j,e.writeFile=O,e.spawn=o,e.exec=y,e.mkdir=k,e.stat=b,e.open=g},function(t,e,n){t.exports={default:n(76),__esModule:!0}},function(t,e,n){t.exports={default:n(78),__esModule:!0}},function(t,e,n){t.exports={default:n(79),__esModule:!0}},function(t,e,n){t.exports={default:n(80),__esModule:!0}},function(t,e,n){t.exports={default:n(81),__esModule:!0}},function(t,e,n){t.exports={default:n(83),__esModule:!0}},function(t,e,n){t.exports={default:n(84),__esModule:!0}},function(t,e){\"use strict\";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(66),o=r(u);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(38),o=r(u);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(68),o=r(u),i=n(65),a=r(i),c=n(23),s=r(c);e.default=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+(\"undefined\"==typeof e?\"undefined\":(0,s.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var u=n(23),o=r(u);e.default=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==(\"undefined\"==typeof e?\"undefined\":(0,o.default)(e))&&\"function\"!=typeof e?t:e}},function(t,e,n){n(37),n(108),t.exports=n(1).Array.from},function(t,e,n){n(110),t.exports=n(1).Object.assign},function(t,e,n){n(111);var r=n(1).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(112);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(113),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){n(114),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){n(57),n(37),n(58),n(115),t.exports=n(1).Promise},function(t,e,n){n(116),n(57),n(117),n(118),t.exports=n(1).Symbol},function(t,e,n){n(37),n(58),t.exports=n(36).f(\"iterator\")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+\": incorrect invocation!\");return t}},function(t,e,n){var r=n(10),u=n(33),o=n(107);t.exports=function(t){return function(e,n,i){var a,c=r(e),s=u(c.length),f=o(i,s);if(t&&n!=n){for(;s>f;)if(a=c[f++],a!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){\"use strict\";var r=n(5),u=n(17);t.exports=function(t,e,n){e in t?r.f(t,e,u(0,n)):t[e]=n}},function(t,e,n){var r=n(16),u=n(29),o=n(19);t.exports=function(t){var e=r(t),n=u.f;if(n)for(var i,a=n(t),c=o.f,s=0;a.length>s;)c.call(t,i=a[s++])&&e.push(i);return e}},function(t,e,n){var r=n(11),u=n(47),o=n(46),i=n(6),a=n(33),c=n(56),s={},f={},e=t.exports=function(t,e,n,p,l){var d,v,h,y,b=l?function(){return t}:c(t),x=r(n,p,e?2:1),w=0;if(\"function\"!=typeof b)throw TypeError(t+\" is not iterable!\");if(o(b)){for(d=a(t.length);d>w;w++)if(y=e?x(i(v=t[w])[0],v[1]):x(t[w]),y===s||y===f)return y}else for(h=b.call(t);!(v=h.next()).done;)if(y=u(h,x,v.value,e),y===s||y===f)return y};e.BREAK=s,e.RETURN=f},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(14);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){\"use strict\";var r=n(28),u=n(17),o=n(20),i={};n(9)(i,n(2)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(i,{next:u(1,n)}),o(t,e+\" Iterator\")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(16),u=n(10);t.exports=function(t,e){for(var n,o=u(t),i=r(o),a=i.length,c=0;a>c;)if(o[n=i[c++]]===e)return n}},function(t,e,n){var r=n(22)(\"meta\"),u=n(13),o=n(8),i=n(5).f,a=0,c=Object.isExtensible||function(){return!0},s=!n(12)(function(){return c(Object.preventExtensions({}))}),f=function(t){i(t,r,{value:{i:\"O\"+ ++a,w:{}}})},p=function(t,e){if(!u(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!o(t,r)){if(!c(t))return\"F\";if(!e)return\"E\";f(t)}return t[r].i},l=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},d=function(t){return s&&v.NEED&&c(t)&&!o(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:l,onFreeze:d}},function(t,e,n){var r=n(3),u=n(55).set,o=r.MutationObserver||r.WebKitMutationObserver,i=r.process,a=r.Promise,c=\"process\"==n(14)(i);t.exports=function(){var t,e,n,s=function(){var r,u;for(c&&(r=i.domain)&&r.exit();t;){u=t.fn,t=t.next;try{u()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){i.nextTick(s)};else if(o){var f=!0,p=document.createTextNode(\"\");new o(s).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}else if(a&&a.resolve){var l=a.resolve();n=function(){l.then(s)}}else n=function(){u.call(r,s)};return function(r){var u={fn:r,next:void 0};e&&(e.next=u),t||(t=u,n()),e=u}}},function(t,e,n){\"use strict\";var r=n(16),u=n(29),o=n(19),i=n(21),a=n(45),c=Object.assign;t.exports=!c||n(12)(function(){var t={},e={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return t[n]=7,r.split(\"\").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join(\"\")!=r})?function(t,e){for(var n=i(t),c=arguments.length,s=1,f=u.f,p=o.f;c>s;)for(var l,d=a(arguments[s++]),v=f?r(d).concat(f(d)):r(d),h=v.length,y=0;h>y;)p.call(d,l=v[y++])&&(n[l]=d[l]);return n}:c},function(t,e,n){var r=n(5),u=n(6),o=n(16);t.exports=n(7)?Object.defineProperties:function(t,e){u(t);for(var n,i=o(e),a=i.length,c=0;a>c;)r.f(t,n=i[c++],e[n]);return t}},function(t,e,n){var r=n(10),u=n(51).f,o={}.toString,i=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return u(t)}catch(t){return i.slice()}};t.exports.f=function(t){return i&&\"[object Window]\"==o.call(t)?a(t):u(r(t))}},function(t,e,n){var r=n(4),u=n(1),o=n(12);t.exports=function(t,e){var n=(u.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*o(function(){n(1)}),\"Object\",i)}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){for(var u in e)n&&t[u]?t[u]=e[u]:r(t,u,e[u]);return t}},function(t,e,n){var r=n(13),u=n(6),o=function(t,e){if(u(t),!r(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,r){try{r=n(11)(Function.call,n(50).f(Object.prototype,\"__proto__\").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){\"use strict\";var r=n(3),u=n(1),o=n(5),i=n(7),a=n(2)(\"species\");t.exports=function(t){var e=\"function\"==typeof u[t]?u[t]:r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(6),u=n(24),o=n(2)(\"species\");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||void 0==(n=r(i)[o])?e:u(n)}},function(t,e,n){var r=n(32),u=n(25);t.exports=function(t){return function(e,n){var o,i,a=String(u(e)),c=r(n),s=a.length;return c<0||c>=s?t?\"\":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===s||(i=a.charCodeAt(c+1))<56320||i>57343?t?a.charAt(c):o:t?a.slice(c,c+2):(o-55296<<10)+(i-56320)+65536)}}},function(t,e,n){var r=n(32),u=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?u(t+e,0):o(t,e)}},function(t,e,n){\"use strict\";var r=n(11),u=n(4),o=n(21),i=n(47),a=n(46),c=n(33),s=n(88),f=n(56);u(u.S+u.F*!n(49)(function(t){Array.from(t)}),\"Array\",{from:function(t){var e,n,u,p,l=o(t),d=\"function\"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,y=void 0!==h,b=0,x=f(l);if(y&&(h=r(h,v>2?arguments[2]:void 0,2)),void 0==x||d==Array&&a(x))for(e=c(l.length),n=new d(e);e>b;b++)s(n,b,y?h(l[b],b):l[b]);else for(p=x.call(l),n=new d;!(u=p.next()).done;b++)s(n,b,y?i(p,h,[u.value,b],!0):u.value);return n.length=b,n}})},function(t,e,n){\"use strict\";var r=n(85),u=n(94),o=n(15),i=n(10);t.exports=n(48)(Array,\"Array\",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,u(1)):\"keys\"==e?u(0,n):\"values\"==e?u(0,t[n]):u(0,[n,t[n]])},\"values\"),o.Arguments=o.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(t,e,n){var r=n(4);r(r.S+r.F,\"Object\",{assign:n(98)})},function(t,e,n){var r=n(4);r(r.S,\"Object\",{create:n(28)})},function(t,e,n){var r=n(4);r(r.S+r.F*!n(7),\"Object\",{defineProperty:n(5).f})},function(t,e,n){var r=n(21),u=n(52);n(101)(\"getPrototypeOf\",function(){return function(t){return u(r(t))}})},function(t,e,n){var r=n(4);r(r.S,\"Object\",{setPrototypeOf:n(103).set})},function(t,e,n){\"use strict\";var r,u,o,i=n(18),a=n(3),c=n(11),s=n(42),f=n(4),p=n(13),l=n(24),d=n(86),v=n(90),h=n(105),y=n(55).set,b=n(97)(),x=\"Promise\",w=a.TypeError,m=a.process,_=a[x],m=a.process,g=\"process\"==s(m),k=function(){},j=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(2)(\"species\")]=function(t){t(k,k)};return(g||\"function\"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),O=function(t,e){return t===e||t===_&&e===o},S=function(t){var e;return!(!p(t)||\"function\"!=typeof(e=t.then))&&e},E=function(t){return O(_,t)?new P(t):new u(t)},P=u=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw w(\"Bad Promise constructor\");e=t,n=r}),this.resolve=l(e),this.reject=l(n)},M=function(t){try{t()}catch(t){return{error:t}}},F=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var r=t._v,u=1==t._s,o=0,i=function(e){var n,o,i=u?e.ok:e.fail,a=e.resolve,c=e.reject,s=e.domain;try{i?(u||(2==t._h&&q(t),t._h=1),i===!0?n=r:(s&&s.enter(),n=i(r),s&&s.exit()),n===e.promise?c(w(\"Promise-chain cycle\")):(o=S(n))?o.call(n,a,c):a(n)):c(r)}catch(t){c(t)}};n.length>o;)i(n[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){y.call(a,function(){var e,n,r,u=t._v;if(T(t)&&(e=M(function(){g?m.emit(\"unhandledRejection\",u,t):(n=a.onunhandledrejection)?n({promise:t,reason:u}):(r=a.console)&&r.error&&r.error(\"Unhandled promise rejection\",u)}),t._h=g||T(t)?2:1),t._a=void 0,e)throw e.error})},T=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!T(e.promise))return!1;return!0},q=function(t){y.call(a,function(){var e;g?m.emit(\"rejectionHandled\",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),F(e,!0))},I=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w(\"Promise can't be resolved itself\");(e=S(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,c(I,r,1),c(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,F(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};j||(_=function(t){d(this,_,x,\"_h\"),l(t),r.call(this);try{t(c(I,this,1),c(D,this,1))}catch(t){D.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(102)(_.prototype,{then:function(t,e){var n=E(h(this,_));return n.ok=\"function\"!=typeof t||t,n.fail=\"function\"==typeof e&&e,n.domain=g?m.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),P=function(){var t=new r;this.promise=t,this.resolve=c(I,t,1),this.reject=c(D,t,1)}),f(f.G+f.W+f.F*!j,{Promise:_}),n(20)(_,x),n(104)(x),o=n(1)[x],f(f.S+f.F*!j,x,{reject:function(t){var e=E(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(i||!j),x,{resolve:function(t){if(t instanceof _&&O(t.constructor,this))return t;var e=E(this),n=e.resolve;return n(t),e.promise}}),f(f.S+f.F*!(j&&n(49)(function(t){_.all(t).catch(k)})),x,{all:function(t){var e=this,n=E(e),r=n.resolve,u=n.reject,o=M(function(){var n=[],o=0,i=1;v(t,!1,function(t){var a=o++,c=!1;n.push(void 0),i++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--i||r(n))},u)}),--i||r(n)});return o&&u(o.error),n.promise},race:function(t){var e=this,n=E(e),r=n.reject,u=M(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return u&&r(u.error),n.promise}})},function(t,e,n){\"use strict\";var r=n(3),u=n(8),o=n(7),i=n(4),a=n(54),c=n(96).KEY,s=n(12),f=n(31),p=n(20),l=n(22),d=n(2),v=n(36),h=n(35),y=n(95),b=n(89),x=n(92),w=n(6),m=n(10),_=n(34),g=n(17),k=n(28),j=n(100),O=n(50),S=n(5),E=n(16),P=O.f,M=S.f,F=j.f,A=r.Symbol,T=r.JSON,q=T&&T.stringify,D=\"prototype\",I=d(\"_hidden\"),B=d(\"toPrimitive\"),R={}.propertyIsEnumerable,N=f(\"symbol-registry\"),L=f(\"symbols\"),C=f(\"op-symbols\"),W=Object[D],Q=\"function\"==typeof A,z=r.QObject,U=!z||!z[D]||!z[D].findChild,Y=o&&s(function(){return 7!=k(M({},\"a\",{get:function(){return M(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var r=P(W,e);r&&delete W[e],M(t,e,n),r&&t!==W&&M(W,e,r)}:M,K=function(t){var e=L[t]=k(A[D]);return e._k=t,e},G=Q&&\"symbol\"==typeof A.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof A},J=function(t,e,n){return t===W&&J(C,e,n),w(t),e=_(e,!0),w(n),u(L,e)?(n.enumerable?(u(t,I)&&t[I][e]&&(t[I][e]=!1),n=k(n,{enumerable:g(0,!1)})):(u(t,I)||M(t,I,g(1,{})),t[I][e]=!0),Y(t,e,n)):M(t,e,n)},$=function(t,e){w(t);for(var n,r=b(e=m(e)),u=0,o=r.length;o>u;)J(t,n=r[u++],e[n]);return t},H=function(t,e){return void 0===e?k(t):$(k(t),e)},V=function(t){var e=R.call(this,t=_(t,!0));return!(this===W&&u(L,t)&&!u(C,t))&&(!(e||!u(this,t)||!u(L,t)||u(this,I)&&this[I][t])||e)},X=function(t,e){if(t=m(t),e=_(e,!0),t!==W||!u(L,e)||u(C,e)){var n=P(t,e);return!n||!u(L,e)||u(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=F(m(t)),r=[],o=0;n.length>o;)u(L,e=n[o++])||e==I||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===W,r=F(n?C:m(t)),o=[],i=0;r.length>i;)!u(L,e=r[i++])||n&&!u(W,e)||o.push(L[e]);return o};Q||(A=function(){if(this instanceof A)throw TypeError(\"Symbol is not a constructor!\");var t=l(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(C,n),u(this,I)&&u(this[I],t)&&(this[I][t]=!1),Y(this,t,g(1,n))};return o&&U&&Y(W,t,{configurable:!0,set:e}),K(t)},a(A[D],\"toString\",function(){return this._k}),O.f=X,S.f=J,n(51).f=j.f=Z,n(19).f=V,n(29).f=tt,o&&!n(18)&&a(W,\"propertyIsEnumerable\",V,!0),v.f=function(t){return K(d(t))}),i(i.G+i.W+i.F*!Q,{Symbol:A});for(var et=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),nt=0;et.length>nt;)d(et[nt++]);for(var et=E(d.store),nt=0;et.length>nt;)h(et[nt++]);i(i.S+i.F*!Q,\"Symbol\",{for:function(t){return u(N,t+=\"\")?N[t]:N[t]=A(t)},keyFor:function(t){if(G(t))return y(N,t);throw TypeError(t+\" is not a symbol!\")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),i(i.S+i.F*!Q,\"Object\",{create:H,defineProperty:J,defineProperties:$,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&i(i.S+i.F*(!Q||s(function(){var t=A();return\"[null]\"!=q([t])||\"{}\"!=q({a:t})||\"{}\"!=q(Object(t))})),\"JSON\",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,n,r=[t],u=1;arguments.length>u;)r.push(arguments[u++]);return e=r[1],\"function\"==typeof e&&(n=e),!n&&x(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!G(e))return e}),r[1]=e,q.apply(T,r)}}}),A[D][B]||n(9)(A[D],B,A[D].valueOf),p(A,\"Symbol\"),p(Math,\"Math\",!0),p(r.JSON,\"JSON\",!0)},function(t,e,n){n(35)(\"asyncIterator\")},function(t,e,n){n(35)(\"observable\")},function(t,e){t.exports=require(\"child_process\")},function(t,e){t.exports=require(\"crypto\")},function(t,e){t.exports=require(\"os\")},function(t,e){t.exports=require(\"path\")},function(t,e){t.exports=require(\"regenerator-runtime\")}])});","/home/travis/build/npmtest/node-npmtest-electron-sudo/node_modules/electron-sudo/webpack/chmod.js":"import {execSync} from 'child_process';\nlet {platform, argv} = process;\n\nswitch (platform) {\n    case 'darwin':\n    case 'linux':\n        execSync(`chmod +x ${argv.slice(2, argv.length).join(' ')}`);\n        break;\n    default:\n        break;\n}\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/node_modules/electron-sudo/webpack/config.babel.js":"import fs from 'fs';\nimport webpack from 'webpack';\nimport CopyWebpackPlugin from 'copy-webpack-plugin';\nimport ShellPlugin from 'webpack-shell-plugin';\n\nlet nodeModules = fs.readdirSync('./node_modules')\n    .filter((module) => {\n        return module !== '.bin';\n    })\n    .reduce((prev, module) => {\n        return Object.assign(prev, {[module]: 'commonjs ' + module});\n    }, {}),\n    srcPath = './src/',\n    distPath = './dist',\n    babelNode = './node_modules/babel-cli/bin/babel-node.js';\n\nexport default {\n    entry: [`${srcPath}/index.js`],\n    output: {\n        path: distPath,\n        publicPath: distPath,\n        filename: 'index.js',\n        library: 'electron-sudo',\n        libraryTarget: 'umd'\n    },\n    target: 'electron',\n    debug: false,\n    //devtool: 'source-map',\n    module: {\n        loaders: [\n            {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                loader: 'babel',\n                query: {\n                    cacheDirectory: true\n                }\n            },\n            {\n                test: /\\.json$/,\n                loader: 'json'\n            }\n        ]\n    },\n    plugins: [\n        new webpack.IgnorePlugin(/node_modules/),\n        new webpack.BannerPlugin(\n            'require(\"source-map-support\").install();',\n            { raw: false, entryOnly: true }\n        ),\n        new CopyWebpackPlugin([\n            {from: `${srcPath}/bin`, to: './bin'}\n        ]),\n        new ShellPlugin({\n            onBuildExit: [\n                `node ${babelNode} ./webpack/chmod.js ` +\n                    `${distPath}/bin/applet.app ` +\n                    `${distPath}/bin/applet.app/Contents/MacOS/applet ` +\n                    `${distPath}/bin/gksudo`,\n            ]\n        }),\n        new webpack.optimize.OccurenceOrderPlugin(),\n        new webpack.optimize.DedupePlugin(),\n        new webpack.optimize.UglifyJsPlugin({\n            compress: { warnings: false },\n            output: { comments: false },\n        })\n    ],\n    node: {\n        //do not include polyfills...\n        //http://webpack.github.io/docs/configuration.html#node\n        console: false,\n        process: false,\n        child_process: false,\n        global: false,\n        buffer: false,\n        crypto: false,\n        __filename: false,\n        __dirname: false\n    },\n    externals: nodeModules\n};\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/node_modules/electron-sudo/src/lib/sudoer.js":"import {tmpdir} from 'os';\nimport {watchFile, unwatchFile, unlink, createReadStream, createWriteStream} from 'fs';\nimport {normalize, join, dirname} from 'path';\nimport {createHash} from 'crypto';\n\nimport {readFile, writeFile, exec, spawn, mkdir, stat} from '~/lib/utils';\n\nlet {platform, env} = process;\n\n\nclass Sudoer {\n\n    constructor(options) {\n        this.platform = platform;\n        this.options = options;\n        this.cp = null;\n        this.tmpdir = tmpdir();\n    }\n\n    hash(buffer) {\n        let hash = createHash('sha256');\n        hash.update('electron-sudo');\n        hash.update(this.options.name || '');\n        hash.update(buffer || new Buffer(0));\n        return hash.digest('hex').slice(-32);\n    }\n\n    joinEnv(options) {\n        let {env} = options,\n            spreaded = [];\n        if (env && typeof env == 'object') {\n            for (let key in env) {\n                spreaded.push(key.concat('=', env[key]));\n            }\n        }\n        return spreaded;\n    }\n\n    escapeDoubleQuotes(string) {\n        return string.replace(/\"/g, '\\\\\"');\n    }\n\n    encloseDoubleQuotes(string) {\n        return string.replace(/(.+)/g, '\"$1\"');\n    }\n\n    kill(pid) {\n        if (!pid) {\n            return;\n        } else {\n            return;\n        }\n    }\n}\n\n\nclass SudoerUnix extends Sudoer {\n\n    constructor(options={}) {\n        super(options);\n        if (!this.options.name) { this.options.name = 'Electron'; }\n    }\n\n    async copy(source, target) {\n        return new Promise(async (resolve, reject) => {\n            source = this.escapeDoubleQuotes(normalize(source));\n            target = this.escapeDoubleQuotes(normalize(target));\n            try {\n                let result = await exec(`/bin/cp -R -p \"${source}\" \"${target}\"`);\n                resolve(result);\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    async remove(target) {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            if (!target.startsWith(self.tmpdir)) {\n                throw new Error(`Try to remove suspicious target: ${target}.`);\n            }\n            target = this.escapeDoubleQuotes(normalize(target));\n            try {\n                let result = await exec(`rm -rf \"${target}\"`);\n                resolve(result);\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n\n    async reset() {\n        await exec('/usr/bin/sudo -k');\n    }\n}\n\n\nclass SudoerDarwin extends SudoerUnix {\n\n    constructor(options={}) {\n        super(options);\n        if (options.icns && typeof options.icns !== 'string') {\n            throw new Error('options.icns must be a string if provided.');\n        } else if (options.icns && options.icns.trim().length === 0) {\n            throw new Error('options.icns must be a non-empty string if provided.');\n        }\n        this.up = false;\n    }\n\n    isValidName(name) {\n        return /^[a-z0-9 ]+$/i.test(name) && name.trim().length > 0 && name.length < 70;\n    }\n\n    joinEnv(options) {\n        let {env} = options,\n            spreaded = [];\n        if (env && typeof env == 'object') {\n            for (let key in env) {\n                spreaded.push(key.concat('=', env[key]));\n            }\n        }\n        return spreaded;\n    }\n\n    async exec(command, options={}) {\n        return new Promise(async (resolve, reject) => {\n            let self = this,\n                env = self.joinEnv(options),\n                sudoCommand = ['/usr/bin/sudo -n', env.join(' '), '-s', command].join(' '),\n                result;\n            await self.reset();\n            try {\n                result = await exec(sudoCommand, options);\n                resolve(result);\n            } catch (err) {\n                try {\n                    // Prompt password\n                    await self.prompt();\n                    // Try once more\n                    result = await exec(sudoCommand, options);\n                    resolve(result);\n                } catch (err) {\n                    reject(err);\n                }\n            }\n        });\n    }\n\n    async spawn(command, args, options={}) {\n        return new Promise(async (resolve, reject) => {\n            let self = this,\n                bin = '/usr/bin/sudo',\n                cp;\n            await self.reset();\n            // Prompt password\n            await self.prompt();\n            cp = spawn(bin, ['-n', '-s', '-E', [command, ...args].join(' ')], options);\n            cp.on('error', async (err) => {\n                reject(err);\n            });\n            self.cp = cp;\n            resolve(cp);\n        });\n    }\n\n    async prompt() {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            if (!self.tmpdir) {\n                return reject(\n                    new Error('Requires os.tmpdir() to be defined.')\n                );\n            }\n            if (!env.USER) {\n                return reject(\n                    new Error('Requires env[\\'USER\\'] to be defined.')\n                );\n            }\n            // Keep prompt in single instance\n            self.up = true;\n            // Read ICNS-icon and hash it\n            let icon = await self.readIcns(),\n                hash = self.hash(icon);\n            // Copy applet to temporary directory\n            let source = join(`${dirname(__filename)}/bin`, 'applet.app'),\n                target = join(self.tmpdir, hash, `${self.options.name}.app`);\n            try {\n                await mkdir(dirname(target));\n            } catch (err) {\n                if (err.code !== 'EEXIST') { return reject(err); }\n            }\n            try {\n                // Copy application to temporary directory\n                await self.copy(source, target);\n                // Create application icon from source\n                await self.icon(target);\n                // Create property list for application\n                await self.propertyList(target);\n                // Open UI dialog with password prompt\n                await self.open(target);\n                // Remove applet from temporary directory\n                await self.remove(target);\n            } catch (err) {\n                return reject(err);\n            }\n            return resolve(hash);\n        });\n    }\n\n    async icon(target) {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            if (!this.options.icns) { return resolve(); }\n            let result = await self.copy(\n                this.options.icns,\n                join(target, 'Contents', 'Resources', 'applet.icns')\n            );\n            return resolve(result);\n        });\n    }\n\n    async open(target) {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            target = self.escapeDoubleQuotes(normalize(target));\n            try {\n                let result = await exec(`open -n -W \"${target}\"`);\n                return resolve(result);\n            } catch (err) {\n                return reject(err);\n            }\n        });\n    }\n\n    async readIcns(icnsPath) {\n        return new Promise(async (resolve, reject) => {\n            // ICNS is supported only on Mac.\n            if (!icnsPath || platform !== 'darwin') {\n                return resolve(new Buffer(0));\n            }\n            try {\n                let data = await readFile(icnsPath);\n                return resolve(data);\n            } catch (err) {\n                return reject(err);\n            }\n        });\n    }\n\n    async propertyList(target) {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            let path = self.escapeDoubleQuotes(join(target, 'Contents', 'Info.plist')),\n                key = self.escapeDoubleQuotes('CFBundleName'),\n                value = `${self.options.name} Password Prompt`;\n            if (/'/.test(value)) {\n                return reject(new Error('Value should not contain single quotes.'));\n            }\n            let result = await exec(`defaults write \"${path}\" \"${key}\" '${value}'`);\n            return resolve(result);\n        });\n    }\n}\n\nclass SudoerLinux extends SudoerUnix {\n\n    constructor(options={}) {\n        super(options);\n        this.binary = null;\n        // We prefer gksudo over pkexec since it gives a nicer prompt:\n        this.paths = [\n            '/usr/bin/gksudo',\n            '/usr/bin/pkexec',\n            './bin/gksudo'\n        ];\n    }\n\n    async getBinary() {\n        return (await Promise.all(\n            this.paths.map(async (path) => {\n                try {\n                    path = await stat(path);\n                    return path;\n                } catch (err) {\n                    return null;\n                }\n            })\n        )).filter((v) => v)[0];\n    }\n\n    async exec(command, options={}) {\n        return new Promise(async (resolve, reject) => {\n            let self = this,\n                result;\n            /* Detect utility for sudo mode */\n            if (!self.binary) {\n                self.binary = await self.getBinary();\n            }\n            if (options.env instanceof Object && !options.env.DISPLAY) {\n                // Force DISPLAY variable with default value which is required for UI dialog\n                options.env = Object.assign(options.env, {DISPLAY: ':0'});\n            }\n            let flags;\n            if (/gksudo/i.test(self.binary)) {\n                flags = '--preserve-env --sudo-mode ' +\n                    `--description=\"${self.escapeDoubleQuotes(self.options.name)}\"`;\n            } else if (/pkexec/i.test(self.binary)) {\n                flags = '--disable-internal-agent';\n            }\n            command = `${this.binary} ${flags} ${command}`;\n            try {\n                result = await exec(command, options);\n                return resolve(result);\n            } catch (err) {\n                return reject(err);\n            }\n        });\n    }\n\n    async spawn(command, args, options={}) {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            /* Detect utility for sudo mode */\n            if (!self.binary) {\n                self.binary = await self.getBinary();\n            }\n            if (options.env instanceof Object && !options.env.DISPLAY) {\n                // Force DISPLAY variable with default value which is required for UI dialog\n                options.env = Object.assign(options.env, {DISPLAY: ':0'});\n            }\n            // In order to guarantee succees execution we'll use execFile\n            // due to fallback binary bundled in package\n            let sudoArgs = [];\n            if (/gksudo/i.test(self.binary)) {\n                sudoArgs.push('--preserve-env');\n                sudoArgs.push('--sudo-mode');\n                sudoArgs.push(`--description=\"${self.escapeDoubleQuotes(self.options.name)}\"`);\n                sudoArgs.push('--sudo-mode');\n            } else if (/pkexec/i.test(self.binary)) {\n                sudoArgs.push('--disable-internal-agent');\n            }\n            sudoArgs.push(command);\n            sudoArgs.push(args);\n            try {\n                let cp = spawn(self.binary, sudoArgs, options);\n                return resolve(cp);\n            } catch (err) {\n                return reject(err);\n            }\n        });\n    }\n}\n\nclass SudoerWin32 extends Sudoer {\n\n    constructor(options={}) {\n        super(options);\n        this.bundled = 'src\\\\bin\\\\elevate.exe';\n        this.binary = null;\n    }\n\n    async writeBatch(command, args, options) {\n        let tmpDir = (await exec('echo %temp%'))\n                .stdout.toString()\n                .replace(/\\r\\n$/, ''),\n            tmpBatchFile = `${tmpDir}\\\\batch-${Math.random()}.bat`,\n            tmpOutputFile = `${tmpDir}\\\\output-${Math.random()}`,\n            env = this.joinEnv(options),\n            batch = `setlocal enabledelayedexpansion\\r\\n`;\n        if (env.length) {\n            batch += `set ${env.join('\\r\\nset ')}\\r\\n`;\n        }\n        if (args && args.length) {\n            batch += `${command} ${args.join(' ')}`;\n        } else {\n            batch += command;\n        }\n        await writeFile(tmpBatchFile, `${batch} > ${tmpOutputFile} 2>&1`);\n        await writeFile(tmpOutputFile, '');\n        return {\n            batch: tmpBatchFile, output: tmpOutputFile\n        };\n    }\n\n    async watchOutput(cp) {\n        let self = this,\n            output = await readFile(cp.files.output);\n        // If we have process then emit watched and stored data to stdout\n        cp.stdout.emit('data', output);\n        let watcher = watchFile(\n                cp.files.output, {persistent: true, interval: 1},\n                () => {\n                    let stream = createReadStream(\n                            cp.files.output,\n                            {start: watcher.last}\n                        ),\n                        size = 0;\n                    stream.on('data', (data) => {\n                        size += data.length;\n                        if (cp) { cp.stdout.emit('data', data); }\n                    });\n                    stream.on('close', () => {\n                        cp.last += size;\n                    });\n                }\n            );\n        cp.last = output.length;\n        cp.on('exit', () => {\n            self.clean(cp);\n        });\n        return cp;\n    }\n\n    async prepare() {\n        let self = this;\n        return new Promise(async (resolve, reject) => {\n            if (self.binary) { return resolve(self.binary); }\n            // Copy applet to temporary directory\n            let target = join(this.tmpdir, 'elevate.exe');\n            if (!(await stat(target))) {\n                let copied = createWriteStream(target);\n                createReadStream(self.bundled).pipe(copied);\n                copied.on('close', () => {\n                    self.binary = target;\n                    return resolve(self.binary);\n                });\n                copied.on('error', (err) => {\n                    return reject(err);\n                });\n            } else {\n                self.binary = target;\n                resolve(self.binary);\n            }\n        });\n    }\n\n    async exec(command, options={}) {\n        let self = this, files, output;\n        return new Promise(async (resolve, reject) => {\n            try {\n                await this.prepare();\n                files = await self.writeBatch(command, [], options);\n                command = `${self.encloseDoubleQuotes(self.binary)} -wait ${files.batch}`;\n                // No need to wait exec output because output is redirected to temporary file\n                await exec(command, options);\n                // Read entire output from redirected file on process exit\n                output = await readFile(files.output);\n                return resolve(output);\n            } catch (err) {\n                return reject(err);\n            }\n        });\n    }\n\n    async spawn(command, args, options={}) {\n        let files = await this.writeBatch(command, args, options),\n            sudoArgs = [],\n            cp;\n        sudoArgs.push('-wait');\n        sudoArgs.push(files.batch);\n        await this.prepare();\n        cp = spawn(this.binary, sudoArgs, options, {wait: false});\n        cp.files = files;\n        await this.watchOutput(cp);\n        return cp;\n    }\n\n    clean (cp) {\n        unwatchFile(cp.files.output);\n        unlink(cp.files.batch);\n        unlink(cp.files.output);\n    }\n}\n\n\nexport {SudoerDarwin, SudoerLinux, SudoerWin32};\n","/home/travis/build/npmtest/node-npmtest-electron-sudo/node_modules/electron-sudo/src/lib/utils.js":"import fs from 'fs';\nimport child from 'child_process';\n\n\nfunction promisify(fn) {\n    return function() {\n        return new Promise((resolve, reject) => {\n            fn(...arguments, function () {\n                if (arguments[0] instanceof Error) {\n                    reject(arguments[0]);\n                } else {\n                    resolve(...Array.prototype.slice.call(arguments, 1));\n                }\n            });\n        });\n    };\n}\n\nasync function exec(cmd, options={}) {\n    return new Promise((resolve, reject) => {\n        child.exec(cmd, options, (err, stdout, stderr) => {\n            if (err) { return reject(err); }\n            return resolve({stdout, stderr});\n        });\n    });\n}\n\nfunction spawn(cmd, args, options={}) {\n    let cp = child.spawn(cmd, args, {...options, shell: true});\n    cp.output = { stdout: new Buffer(0), stderr: new Buffer(0) };\n    cp.stdout.on('data', (data) => {\n        cp.output.stdout = concat(data, cp.output.stdout);\n    });\n    cp.stderr.on('data', (data) => {\n        cp.output.stderr = concat(data, cp.output.stderr);\n    });\n    return cp;\n}\n\nfunction concat(source, target) {\n    if (!(source instanceof Buffer)) {\n        source = new Buffer(source, 'utf8');\n    }\n    if (!target instanceof Buffer) {\n        target = new Buffer(0);\n    }\n    return Buffer.concat([target, source]);\n}\n\nasync function stat(target) {\n    let _stat = promisify(fs.stat);\n    try {\n        let fileStat = await _stat(target);\n        return fileStat;\n    } catch (err) {\n        return null;\n    }\n}\n\nlet open = promisify(fs.open),\n    mkdir = promisify(fs.mkdir),\n    readFile = promisify(fs.readFile),\n    writeFile = promisify(fs.writeFile);\n\n\nexport {readFile, writeFile, spawn, exec, mkdir, stat, open};\n"}